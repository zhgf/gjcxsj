<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>

<script type="text/javascript">
// 1.Storage 类型
//Storage 类型提供最大的存储空间（因浏览器而异）来存储名值对儿。 Storage 的实例与其他对象类似，有如下方法。
// clear() ： 删除所有值；Firefox 中没有实现 。
// getItem(name) ：根据指定的名字 name 获取对应的值。
// key(index) ：获得 index 位置处的值的名字。
// removeItem(name) ：删除由 name 指定的名值对儿。
// setItem(name, value) ：为指定的 name 设置一个对应的值。
//
//2.sessionStorage 对象
//sessionStorage 对象存储特定于某个会话的数据，也就是该数据只保持到浏览器关闭。
//使用方法存储数据
sessionStorage.setItem("name", "Nicholas");
//使用属性存储数据
sessionStorage.book = "Professional JavaScript";
//只适用于 IE8
sessionStorage.begin();
sessionStorage.name = "Nicholas";
sessionStorage.book = "Professional JavaScript";
sessionStorage.commit();
//还可以通过结合 length 属性和 key() 方法来迭代 sessionStorage 中的值，如下所示。
for (var i=0, len = sessionStorage.length; i < len; i++){
var key = sessionStorage.key(i);
var value = sessionStorage.getItem(key);
alert(key + "=" + value);
}
//还可以使用 for-in 循环来迭代 sessionStorage 中的值：
for (var key in sessionStorage){
var value = sessionStorage.getItem(key);
alert(key + "=" + value);
}
//使用 delete 删除一个值——在 WebKit 中无效
delete sessionStorage.name;
//使用方法删除一个值
sessionStorage.removeItem("book");
//sessionStorage 对象应该主要用于仅针对会话的小段数据的存储。
//如果需要跨越会话存储数据，那么 globalStorage 或者 localStorage 更为合适。
//
//4.  localStorage 对象
//localStorage 对象在修订过的 HTML 5 规范中作为持久保存客户端数据的方案取代了globalStorage 。
//使用方法存储数据
localStorage.setItem("name", "Nicholas");
//使用属性存储数据
localStorage.book = "Professional JavaScript";
//使用方法读取数据
var name = localStorage.getItem("name");
//使用属性读取数据
var book = localStorage.book;
//为了兼容只支持 globalStorage 的浏览器，可以使用以下函数。
function getLocalStorage(){
if (typeof localStorage == "object"){
return localStorage;
} else if (typeof globalStorage == "object"){
return globalStorage[location.host];
} else {
throw new Error("Local storage not available.");
}
}
//5.  storage 事件
//对 Storage 对象进行任何修改，都会在文档上触发 storage 事件。
//这个事件的 event 对象有以下属性。
// domain ：发生变化的存储空间的域名。
// key ：设置或者删除的键名。
// newValue ：如果是设置值，则是新值；如果是删除键，则是 null 。
// oldValue ：键被更改之前的值。
</script>
	
</body>
</html>